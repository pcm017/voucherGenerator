<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Loan EMI Calculator</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Personal Loan EMI Calculator</h1>

        <form id="emi-calculator">
            <div class="form-group">
                <label for="loan-amount">Loan Amount (INR):</label>
                <input type="range" class="form-control-range" id="loan-amount" name="loan-amount" min="1000" max="1000000" step="1000">
                <span class="badge badge-primary">100000</span>
            </div>
            <div class="form-group">
                <label for="tenure">Tenure (Months):</label>
                <input type="range" class="form-control-range" id="tenure" name="tenure" min="12" max="360" step="12">
                <span class="badge badge-primary">48</span>
            </div>
            <div class="form-group">
                <label for="interest-rate">Interest Rate (%):</label>
                <input type="range" class="form-control-range" id="interest-rate" name="interest-rate" min="1" max="48" step="0.1">
                <span class="badge badge-primary">18</span>
            </div>
            <div class="form-group text-center">
                <button type="button" class="btn btn-primary" id="calculate-emi">Calculate EMI</button>
            </div>
            <div id="emi-result" class="mt-4">
                <!-- EMI result will be displayed here -->
            </div>
        </form>
    </div>

    <!-- Include Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Custom JavaScript for EMI calculation -->
    <script>
        // JavaScript code for the EMI calculator

// Function to calculate EMI
function calculateEMI() {
    const loanAmount = parseFloat(document.getElementById('loan-amount').value);
    const tenure = parseFloat(document.getElementById('tenure').value);
    const interestRate = parseFloat(document.getElementById('interest-rate').value);

    const monthlyInterestRate = (interestRate / 12) / 100;
    const emi = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -tenure));
    
    return emi.toFixed(2);
}

// Event listener for slider changes
document.addEventListener('input', function (e) {
    if (e.target.type === 'range') {
        const sliderValue = e.target.value;
        const badge = e.target.nextElementSibling;
        badge.textContent = sliderValue;
    }
});

// Event listener for Calculate EMI button
document.getElementById('calculate-emi').addEventListener('click', function () {
    const emi = calculateEMI();
    const emiResultElement = document.getElementById('emi-result');
    emiResultElement.innerHTML = `
        <h3>EMI: â‚¹${emi} per month</h3>
        <p><a href="#" id="download-amortization">Download Amortization Schedule</a></p>
    `;

    // Event listener for Download Amortization Schedule link
    document.getElementById('download-amortization').addEventListener('click', function () {
        // Code to generate and download the amortization schedule in Excel format
        // You can use a library like xlsx.js for this purpose
        // Example code: https://github.com/SheetJS/sheetjs#browserify
        alert('Amortization schedule download functionality to be implemented.');
    });
});

    </script>
</body>
</html>
